<style type="text/css">
  #janrainEngageWrapper {
    height: 200px;
    width: 400px;
    float: left;
    border-right: 1px dotted #ccc;
    padding-right: 15px;
  }
  .divider-or {
    float: left;
    font-size: 24px;
    font-weight: bold;
    margin-top: 70px;
    margin-left: -15px;
    background-color: white;
  }
  #ploneLoginOrRegister {
    width: 300px;
    float: left;
    margin-left: 15px;
  }
</style>

<dl class="portlet portletJanrainLoginRegister">
  <dt class="portletHeader" tal:content="python: 'Login or Create an Account' if view.registration_available else 'Login'">Login or Create an Account</dt>
  <dd class="portletItem">
    <div id="janrainEngageWrapper">
      <h2>Sign in using your account with</h2>
      <div id="janrainEngageEmbed"></div>
    </div>

    <div class="divider divider-or">or</div>
    <div id="ploneLoginOrRegister">
      <div id="form-register" tal:condition="view/registration_available">
        <form tal:attributes="action string:${context/portal_url}/@@register"
            method="post"
            enctype="multipart/form-data"
            tal:define="view nocall:view/registration_form">
            <div metal:use-macro="context/base-subpageform.html/form" />
            <input tal:define="came_from request/form/came_from|nothing"
                tal:condition="came_from"
                type="hidden"
                name="came_from"
                tal:attributes="value came_from" />
            <input tal:replace="structure context/@@authenticator/authenticator" />
        </form>
      </div>
      <div id="form-login">
<tal:comment condition="nothing">
        <form tal:attributes="action string:${context/portal_url}/@@login"
            method="post"
            enctype="multipart/form-data"
            tal:define="view nocall:view/login_form">
            <div metal:use-macro="context/base-subpageform.html/form" />
            <input tal:define="came_from request/form/came_from|nothing"
                tal:condition="came_from"
                type="hidden"
                name="came_from"
                tal:attributes="value came_from" />
            <input tal:replace="structure context/@@authenticator/authenticator" />
        </form>
</tal:comment>
      </div>
    </div>
   
  </dd>
</dl>

<script type="text/javascript">
  janrain.ready = true;
</script>
